<!DOCTYPE html>
<html>
    <head>
        <title>Lucas Dionisopoulos</title>
        <link rel="icon" href="/assets/dino/DinoIcon.ico" type="image/x-icon">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Honk&family=Kode+Mono:wght@400..700&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="/assets/stylesheet.css">
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
        <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    </head>
    <body>
        <div class="topbar">
            <a class="title" href="/index.html" data-attribute="honk-name">Lucas Dionisopoulos</a>
            <a class="navpointer" href="/pages/professional.html">Professional</a>
            <a class="navpointer" href="/pages/research.html">Research</a>
            <a class="navpointer" attribute="active_page" href="/pages/personal.html" data-attribute="honk-nav">Personal</a>
            <a class="navpointer" href="/pages/contact.html">Contact</a>
        </div>

        <div class="meat">
            <p>
                <div id="travel_map">    
                    <script>
                        var map = L.map('travel_map', {
                            center: [14, 0],
                            zoom: 2.4,
                            worldCopyJump: false,
                            maxBounds: [[-90, -150], [90, 180]],
                            maxBoundsViscosity: 10.0
                        });
                        L.tileLayer('https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png', {
                            attribution: '&copy; <a href="https://stadiamaps.com/" target="_blank">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/" target="_blank">OpenMapTiles</a> &copy; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a>',
                        }).addTo(map);
                        
                        var categories = {
                            "MidwayLHS": {
                                parent: false,
                                drawMarker: false,
                                markerLocation: [21, -140.4],
                                center: [21, -140.4],
                                parentBlurb: "",
                                parentPhoto: "",
                            },
                            "Headin' Home": {
                                parent: true, 
                                drawMarker: true,
                                zoomLevel: 5,
                                markerLocation: [37.75, -122.45],
                                center: [37.7, -107],
                                parentBlurb: "153 days and 22 flights later...",
                                parentPhoto: "",
                                locations: [
                                    { name: "MidwayLHS", mark: false, dashed: true, latLng: [21, -140.4], photo: "", blurb: "" },
                                    { name: "San Francisco", mark: true, dashed: true, latLng: [37.7636, -122.4779], photo: "", blurb: "After 48 hours of pure travel...yeah I did not smell great. One of the better showers in my life.</p><p class='popup-blurb'>Great layover though - I got to see Ian and Mitch and took my first Waymo ride." },
                                    { name: "Chicago", mark: true, dashed: false, latLng: [41.7890, -87.7414], photo: "", blurb: "The LAST flight - 22 total.</p><p class='popup-blurb'>This was actually a really cool flight. We flew directly over I-80 in Nebraska which I know like the back of my hand - so I got to see Nebraska and the 'ol stompin' grounds from the sky at dusk!" },
                                    { name: "Delafield", mark: true, dashed: false, latLng: [43.0599, -88.4042], photo: "", blurb: "Around the world in 153 days!!</p><p class='popup-blurb'>Time to rela...just kidding, time to finish grad school applications." }
                                ]
                            },
                            "Family Reunion": {
                                parent: true,
                                drawMarker: true,
                                zoomLevel: 6,
                                markerLocation: [43, -88.4],
                                center: [41, -95],
                                parentBlurb: "Kickin' if off with a family renunion! Left with only a backpack and no return date.",
                                parentPhoto: "",
                                locations: [
                                    { name: "Delafield", mark: true, dashed: false, latLng: [43.0599, -88.4042], photo: "/assets/pics/sabbatical/backpack.jpg", blurb: "Pictured is everything I carried with me for the next 5 months.</p><p class='popup-blurb'>Kept it to just the basics but have gear for hiking, the beach, and potential cold weather...so it added up."},
                                    { name: "St. Louis", mark: true, dashed: false, latLng: [38.6248, -90.1853], photo: "/assets/pics/sabbatical/stlarch.jpg", blurb: "Stayed in St. Louis for one night so I obviously showed the family the best parts (the Arch, WashU, and Sugarfire)."},
                                    { name: "Innsbrook", mark: true, dashed: false, latLng: [38.7666, -91.0302], photo: "/assets/pics/sabbatical/innsbrookdinos.jpg", blurb: "Congrats to Allie & Liam on the wedding!</p><p class='popup-blurb'>Though the best part was laketime with the cousins. My dad, Nick and I made sure to take it easy."},
                                    { name: "Cabin", mark: true, dashed: false, latLng: [40.7145, -99.9118], photo: "/assets/pics/sabbatical/nebraskacows.jpg", blurb: "Look you can take a boy out of Nebraska, but you can't take the Nebraska out of a boy."},
                                    { name: "McCook", mark: true, dashed: true, latLng: [40.2078, -100.5980], photo: "/assets/pics/sabbatical/mccookairport.jpg", blurb: "A literal one-room airport. What better way to kick off a round-the-world trip eh?</p><p class='popup-blurb'>...And my goodness. This is a sweaty pic."},
                                    { name: "Denver", mark: true, dashed: true, latLng: [39.8564, -104.6784], photo: "", blurb: "Off to Colombia!"},
                                    { name: "Cartagena", mark: false, dashed: false, latLng: [10.4269, -75.5469], photo: "", blurb: ""}
                                ]
                            },
                            "Colombia": {
                                parent: true,
                                drawMarker: true,
                                zoomLevel: 6,
                                markerLocation: [8, -75],
                                center: [8, -75],
                                parentBlurb: "Tres Aguilas por favor &#x1F60E;",
                                parentPhoto: "",
                                locations: [
                                    { name: "McCook", mark: false, dashed: true, latLng: [40.2078, -100.5980], photo: "", blurb: ""},
                                    { name: "Cartagena", mark: true, dashed: false, latLng: [10.4269, -75.5469], photo: "", blurb: ""},
                                    { name: "Tierra Bomba", mark: true, dashed: false, latLng: [10.3254, -75.5907], photo: "", blurb: ""},
                                    { name: "Cartagena", mark: false, dashed: true, latLng: [10.4269, -75.5469], photo: "", blurb: ""},
                                    { name: "Medellin", mark: true, dashed: true, latLng: [6.2087, -75.5704], photo: "", blurb: ""},
                                    { name: "Bogota", mark: true, dashed: true, latLng: [4.5966, -74.0701], photo: "", blurb: ""},
                                    { name: "Barcelona", mark: false, dashed: false, latLng: [41.4, 2.18], photo: "", blurb: ""},
                                ]
                            },
                            "Barcelona": {
                                parent: false,
                                drawMarker: true,
                                markerLocation: [41.4, 2.18],
                                center: [41.4, 2.18],
                                parentBlurb: "Oh no! An 8 hour layover in a cool city I've never been to...what a shame.</p><p class='popup-blurb'>Walked all over the city, thrifted a few things for Croatia, and had a beer on the beach.</p><p class='popup-blurb'>Mustached menace.",
                                parentPhoto: "",
                            },
                            "Croatia": {
                                parent: true,
                                drawMarker: true,
                                zoomLevel: 8,
                                markerLocation: [43.7, 15.9],
                                center: [43.3, 16.2],
                                parentBlurb: "Defected 2023 w/ Lindsay",
                                parentPhoto: "",
                                locations: [
                                    { name: "Barcelona", mark: false, dashed: true, latLng: [41.4, 2.18], photo: "", blurb: ""},
                                    { name: "Dubrovnik", mark: true, dashed: false, latLng: [42.6412, 18.1100], photo: "", blurb: ""},
                                    { name: "Ploce", mark: false, dashed: false, latLng: [43.0452, 17.4856], photo: "", blurb: ""},
                                    { name: "Split", mark: false, dashed: false, latLng: [43.5171, 16.5216], photo: "", blurb: ""},
                                    { name: "Sibenik", mark: true, dashed: false, latLng: [43.7374, 15.8898], photo: "", blurb: ""},
                                    { name: "Tisno", mark: true, dashed: false, latLng: [43.7990, 15.6415], photo: "", blurb: ""},
                                    { name: "Jezera", mark: false, dashed: false, latLng: [43.7850, 15.6414], photo: "", blurb: ""},
                                    { name: "Kaprije", mark: true, dashed: false, latLng: [43.6884, 15.7090], photo: "", blurb: ""},
                                    { name: "Jezera", mark: false, dashed: false, latLng: [43.7850, 15.6414], photo: "", blurb: ""},
                                    { name: "Meurter", mark: false, dashed: false, latLng: [43.8222, 15.5918], photo: "", blurb: ""},
                                    { name: "Jezera", mark: false, dashed: false, latLng: [43.7850, 15.6414], photo: "", blurb: ""},
                                    { name: "Tisno", mark: true, dashed: false, latLng: [43.7990, 15.6415], photo: "", blurb: ""},
                                    { name: "Sibenik", mark: false, dashed: true, latLng: [43.7374, 15.8898], photo: "", blurb: ""},
                                    { name: "Stockholm", mark: false, dashed: false, latLng: [59.6492, 17.9356], photo: "", blurb: ""},
                                ]
                            },
                            "Stockholm": {
                                parent: false,
                                drawMarker: true,
                                markerLocation: [59.6492, 17.9356],
                                center: [59.6492, 17.9356],
                                parentBlurb: "Never passing up an opportunity to rip a cardamom bun.",
                                parentPhoto: "",
                            },
                            "Greece": {
                                parent: true,
                                drawMarker: true,
                                zoomLevel: 7,
                                markerLocation: [38, 23.75],
                                center: [38.8, 22],
                                parentBlurb: "The old country. My favorite leg!",
                                parentPhoto: "",
                                locations: [
                                    { name: "Stockholm", mark: false, dashed: true, latLng: [59.6492, 17.9356], photo: "", blurb: ""},
                                    { name: "Thessaloniki", mark: true, dashed: false, latLng: [40.6381, 22.9399], photo: "", blurb: ""},
                                    { name: "Nea Moudania", mark: false, dashed: false, latLng: [40.2632, 23.2734], photo: "", blurb: ""},
                                    { name: "Chalkidiki", mark: true, dashed: false, latLng: [40.2270, 23.7652], photo: "", blurb: ""},
                                    { name: "Athos View", mark: false, dashed: false, latLng: [40.0318, 24.0150], photo: "", blurb: ""},
                                    { name: "Porto Koufo", mark: false, dashed: false, latLng: [39.9607, 23.9298], photo: "", blurb: ""},
                                    { name: "Metamorfosi", mark: false, dashed: false, latLng: [40.2276, 23.6332], photo: "", blurb: ""},
                                    { name: "Nea Moudania", mark: false, dashed: false, latLng: [40.2632, 23.2734], photo: "", blurb: ""},
                                    { name: "Thessaloniki", mark: false, dashed: false, latLng: [40.6381, 22.9399], photo: "", blurb: ""},
                                    { name: "Pella", mark: true, dashed: false, latLng: [40.7615, 22.5278], photo: "", blurb: ""},
                                    { name: "Vergina", mark: true, dashed: false, latLng: [40.4869, 22.3188], photo: "", blurb: ""},
                                    { name: "Litochoro", mark: false, dashed: false, latLng: [40.0930, 22.5653], photo: "", blurb: ""},
                                    { name: "Olympus", mark: true, dashed: false, latLng: [40.0857, 22.3586], photo: "", blurb: ""},
                                    { name: "Litochoro", mark: false, dashed: false, latLng: [40.0930, 22.5653], photo: "", blurb: ""},
                                    { name: "Larissa", mark: false, dashed: false, latLng: [39.6162, 22.4224], photo: "", blurb: ""},
                                    { name: "Trikala", mark: false, dashed: false, latLng: [39.5357, 21.7728], photo: "", blurb: ""},
                                    { name: "Meteora", mark: true, dashed: false, latLng: [39.7212, 21.6309], photo: "", blurb: ""},
                                    { name: "Panagia", mark: false, dashed: false, latLng: [39.8031, 21.2867], photo: "", blurb: ""},
                                    { name: "Ioannina", mark: true, dashed: false, latLng: [39.6690, 20.8576], photo: "", blurb: ""},
                                    { name: "Vikos Gorge", mark: true, dashed: false, latLng: [39.9162, 20.7478], photo: "/assets/pics/sabbatical/vikosgorge.jpg", blurb: "Vikos Gorge! One of the most beautiful places I've ever been -- hiked to Drakolimni and Beloi Veiwpoint.</p><p class='popup-blurb'>It is as if Zion NP was more green with white rock. Would love to come back and camp here."},
                                    { name: "Ioannina", mark: false, dashed: false, latLng: [39.6690, 20.8576], photo: "", blurb: ""},
                                    { name: "Kozani", mark: false, dashed: false, latLng: [40.2994, 21.7033], photo: "", blurb: ""},
                                    { name: "Thessaloniki", mark: false, dashed: true, latLng: [40.6381, 22.9399], photo: "", blurb: ""},
                                    { name: "Corfu", mark: true, dashed: false, latLng: [39.6260, 19.9193], photo: "", blurb: ""},
                                    { name: "Gouvia", mark: false, dashed: false, latLng: [39.6497, 19.8443], photo: "", blurb: ""},
                                    { name: "Pirgi", mark: false, dashed: false, latLng: [39.7102, 19.8523], photo: "", blurb: ""},
                                    { name: "Albanian Overlook", mark: false, dashed: false, latLng: [39.7534, 19.9363], photo: "", blurb: ""},
                                    { name: "Kassiopi", mark: false, dashed: false, latLng: [39.7877, 19.9157], photo: "", blurb: ""},
                                    { name: "Roda", mark: false, dashed: false, latLng: [39.7862, 19.7898], photo: "", blurb: ""},
                                    { name: "Canal D'Amour", mark: true, dashed: false, latLng: [39.7945, 19.7008], photo: "", blurb: ""},
                                    { name: "Angelokastro", mark: true, dashed: false, latLng: [39.6786, 19.6886], photo: "", blurb: ""},
                                    { name: "Roda", mark: false, dashed: false, latLng: [39.7862, 19.7898], photo: "", blurb: ""},
                                    { name: "Kassiopi", mark: false, dashed: false, latLng: [39.7877, 19.9157], photo: "", blurb: ""},
                                    { name: "Albanian Overlook", mark: false, dashed: false, latLng: [39.7534, 19.9363], photo: "", blurb: ""},
                                    { name: "Pirgi", mark: false, dashed: false, latLng: [39.7102, 19.8523], photo: "", blurb: ""},
                                    { name: "Gouvia", mark: false, dashed: false, latLng: [39.6497, 19.8443], photo: "", blurb: ""},
                                    { name: "Corfu", mark: false, dashed: true, latLng: [39.6260, 19.9193], photo: "", blurb: ""},
                                    { name: "Athens", mark: true, dashed: false, latLng: [37.9719, 23.7244], photo: "", blurb: ""},
                                    { name: "Corinth", mark: false, dashed: false, latLng: [37.9264, 22.9946], photo: "", blurb: ""},
                                    { name: "Tripoli", mark: false, dashed: false, latLng: [37.5037, 22.3999], photo: "", blurb: ""},
                                    { name: "Allagi", mark: false, dashed: false, latLng: [37.2519, 22.0174], photo: "", blurb: ""},
                                    { name: "Kalamata", mark: true, dashed: false, latLng: [37.0305, 22.1169], photo: "", blurb: ""},
                                    { name: "Allagi", mark: false, dashed: false, latLng: [37.2519, 22.0174], photo: "", blurb: ""},
                                    { name: "Tripoli", mark: false, dashed: false, latLng: [37.5037, 22.3999], photo: "", blurb: ""},
                                    { name: "Corinth", mark: false, dashed: false, latLng: [37.9264, 22.9946], photo: "", blurb: ""},
                                    { name: "Gulf of Corinth", mark: false, dashed: false, latLng: [38.1780, 22.2468], photo: "", blurb: ""},
                                    { name: "Erineos", mark: false, dashed: false, latLng: [38.3257, 21.9515], photo: "", blurb: ""},
                                    { name: "Rio", mark: false, dashed: false, latLng: [38.3026, 21.7888], photo: "", blurb: ""},
                                    { name: "Patras", mark: true, dashed: false, latLng: [38.2444, 21.7291], photo: "", blurb: ""},
                                    { name: "Rio", mark: false, dashed: false, latLng: [38.3026, 21.7888], photo: "", blurb: ""},
                                    { name: "Nafpaktos", mark: false, dashed: false, latLng: [38.3734, 21.7802], photo: "", blurb: ""},
                                    { name: "Trizonia", mark: false, dashed: false, latLng: [38.3922, 22.0686], photo: "", blurb: ""},
                                    { name: "Galaxidi", mark: false, dashed: false, latLng: [38.3675, 22.3789], photo: "", blurb: ""},
                                    { name: "Delphi", mark: true, dashed: false, latLng: [38.4831, 22.4799], photo: "", blurb: ""},
                                    { name: "Galaxidi", mark: false, dashed: false, latLng: [38.3675, 22.3789], photo: "", blurb: ""},
                                    { name: "Trizonia", mark: false, dashed: false, latLng: [38.3922, 22.0686], photo: "", blurb: ""},
                                    { name: "Nafpaktos", mark: false, dashed: false, latLng: [38.3734, 21.7802], photo: "", blurb: ""},
                                    { name: "Rio", mark: false, dashed: false, latLng: [38.3026, 21.7888], photo: "", blurb: ""},
                                    { name: "Patras", mark: true, dashed: false, latLng: [38.2444, 21.7291], photo: "", blurb: ""},
                                    { name: "Rio", mark: false, dashed: false, latLng: [38.3026, 21.7888], photo: "", blurb: ""},
                                    { name: "Erineos", mark: false, dashed: false, latLng: [38.3257, 21.9515], photo: "", blurb: ""},
                                    { name: "Gulf of Corinth", mark: false, dashed: false, latLng: [38.1780, 22.2468], photo: "", blurb: ""},
                                    { name: "Corinth", mark: false, dashed: false, latLng: [37.9264, 22.9946], photo: "", blurb: ""},
                                    { name: "Tripoli", mark: false, dashed: false, latLng: [37.5037, 22.3999], photo: "", blurb: ""},
                                    { name: "Allagi", mark: false, dashed: false, latLng: [37.2519, 22.0174], photo: "", blurb: ""},
                                    { name: "Kalamata", mark: true, dashed: false, latLng: [37.0305, 22.1169], photo: "", blurb: ""},
                                    { name: "Allagi", mark: false, dashed: false, latLng: [37.2519, 22.0174], photo: "", blurb: ""},
                                    { name: "Tripoli", mark: false, dashed: false, latLng: [37.5037, 22.3999], photo: "", blurb: ""},
                                    { name: "Corinth", mark: false, dashed: false, latLng: [37.9264, 22.9946], photo: "", blurb: ""},
                                    { name: "Athens", mark: true, dashed: true, latLng: [37.9719, 23.7244], photo: "", blurb: ""},
                                    { name: "Jeddah", mark: false, dashed: false, latLng: [21.6636, 39.1725], photo: "", blurb: ""},
                                ]
                            },
                            "Jeddah": {
                                parent: false,
                                drawMarker: true,
                                markerLocation: [21.6636, 39.1725],
                                center: [21.6636, 39.1725],
                                parentBlurb: "Turns out I skipped customs because the airport employees told me to go straight to my flight. Huh, wonder if I'm on a list somewhere now.",
                                parentPhoto: "",
                            },
                            "Dubai": {
                                parent: false,
                                drawMarker: true,
                                markerLocation: [25.2491, 55.3528],
                                center: [25.2491, 55.3528],
                                parentBlurb: "So dusty I couldn't see the Burj Khalifa. It's cool I guess.",
                                parentPhoto: "",
                            },
                            "Bangkok": {
                                parent: false,
                                drawMarker: true,
                                markerLocation: [13.6937, 100.7507],
                                center: [13.6937, 100.7507],
                                parentBlurb: "Had just enough time to grab dinner with a coconut water...in a coconut. For like 5 bucks.",
                                parentPhoto: "",
                            },
                            "Australia": {
                                parent: true, 
                                drawMarker: true,
                                zoomLevel: 5,
                                markerLocation: [-35, 149],
                                center: [-35, 149],
                                parentBlurb: "NUUAAAARRR WAY! We actually made it.</p><p class='popup-blurb'>Time to sit some pets.",
                                parentPhoto: "",
                                locations: [
                                    { name: "Bangkok", mark: false, dashed: true, latLng: [13.6937, 100.7507], photo: "", blurb: ""},
                                    { name: "Sydney", mark: true, dashed: true, latLng: [-33.8707, 151.2070], photo: "", blurb: ""},
                                    { name: "Tasmania", mark: true, dashed: false, latLng: [-42.8827, 147.3163], photo: "", blurb: ""},
                                    { name: "Mt. Wellington", mark: true, dashed: false, latLng: [-42.8976, 147.2344], photo: "", blurb: ""},
                                    { name: "Tasmania", mark: false, dashed: true, latLng: [-42.8827, 147.3163], photo: "", blurb: ""},
                                    { name: "Brisbane", mark: true, dashed: false, latLng: [-27.4662, 153.0134], photo: "", blurb: "" },
                                    { name: "Byron Bay", mark: true, dashed: false, latLng: [-28.6401, 153.6268], photo: "", blurb: "" },
                                    { name: "Nimbin", mark: true, dashed: false, latLng: [-28.5960, 153.2231], photo: "", blurb: "" },
                                    { name: "Byron Bay", mark: false, dashed: false, latLng: [-28.6401, 153.6268], photo: "", blurb: "" },
                                    { name: "Brisbane", mark: false, dashed: true, latLng: [-27.4662, 153.0134], photo: "", blurb: "" },
                                    { name: "Melbourne", mark: true, dashed: true, latLng: [-37.8147, 144.9691], photo: "", blurb: "" },
                                    { name: "Canberra", mark: true, dashed: true, latLng: [-35.1594, 149.1183], photo: "", blurb: "" },
                                    { name: "Melbourne", mark: true, dashed: true, latLng: [-37.8147, 144.9691], photo: "", blurb: "" },
                                    { name: "Singapore", mark: false, dashed: false, latLng: [1.3595, 103.9895], photo: "", blurb: ""},
                                ]
                            },
                            "Singapore": {
                                parent: false,
                                drawMarker: true,
                                markerLocation: [1.3595, 103.9895],
                                center: [1.3595, 103.9895],
                                parentBlurb: "One of my more interesting naps I've taken (Jewel at 3am).",
                                parentPhoto: "",
                            },
                            "MidwayRHS": {
                                parent: false,
                                drawMarker: false,
                                markerLocation: [21, 140.4],
                                center: [21, -140.4],
                                parentBlurb: "",
                                parentPhoto: "",
                            }
                        }
                        var singaporeLocation = [1.3595, 103.9895]
                        var sfLocation = [37.75, 237.55]
                        
                        // Styling for our markers
                        var donutMarker = L.divIcon({
                            className: 'orange-donut-icon',
                            html: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><circle cx="12" cy="12" r="5" fill="none" stroke="#D00909" stroke-width="4"/></svg>',
                            iconSize: [24, 24],
                            iconAnchor: [12, 12]
                        });
                        var np_donutMarker = L.divIcon({
                            className: 'light-donut-icon',
                            html: '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><circle cx="10" cy="10" r="4" fill="none" stroke="#EF9A9A" stroke-width="4"/></svg>',
                            iconSize: [16, 16],
                            iconAnchor: [10, 10]
                        });
                        
                        // Defining some preliminary variables
                        var initialMapView = { center: map.getCenter(), zoom: map.getZoom() };
                        var parentMarkers = L.layerGroup();
                        var subMarkers = L.layerGroup();

                        // Code for our back button once you click in on a parent location
                        var backButton = L.control({position: 'topright'});
                        backButton.onAdd = function() {
                            var div = L.DomUtil.create('div', 'back-button');
                            var button = L.DomUtil.create('button', 'back-to-map-btn', div);
                            button.innerText = "Back to Main Map";
                            L.DomEvent.on(button, 'click', returnToMainMapView);
                            return div;
                        };
                        function returnToMainMapView() {
                            function onMoveEnd() {
                                removeSubMarkers();
                                addParentMarkers();
                                hideBackButton();
                                map.off('moveend', onMoveEnd);
                            }

                            map.on('moveend', onMoveEnd);
                            map.setView(initialMapView.center, initialMapView.zoom);
                        }

                        function showBackButton() {backButton.addTo(map);}
                        function hideBackButton() {backButton.remove();}

                        // Code for our parent markers
                        function removeParentMarkers() {parentMarkers.clearLayers();}
                        function addParentMarkers() {
                            var latLngs = [];
                            var edgePoints = calculateEdgePoints();
                            categories["MidwayLHS"].markerLocation = edgePoints.leftMostPoint;
                            categories["MidwayRHS"].markerLocation = edgePoints.rightMostPoint;
                            categories["Headin' Home"].locations[0].latLng = edgePoints.leftMostPoint;

                            Object.entries(categories).forEach(([category, details]) => {
                                var markerIcon = details.parent ? donutMarker : np_donutMarker;
                                if (details.drawMarker) {
                                    var marker = L.marker(details.markerLocation, {icon: markerIcon});

                                    var popupContent = `
                                        <div class="popup-content">
                                            <h4 class="popup-title">${category}</h4>
                                            <hr id="popup-hr">
                                            <p class="popup-blurb">${details.parentBlurb}</p>
                                            ${details.parentPhoto ? `<div class="popup-image-container"><img src="${details.parentPhoto}" class="popup-image" alt="Location Image"></div>` : ''}
                                        </div>
                                    `;
                                    marker.bindPopup(popupContent);

                                    marker.on('mouseover', function(e) {
                                        marker.openPopup();
                                    }).on('mouseout', function(e) {
                                        marker.closePopup();
                                    });
    
                                    if (details.parent) {
                                        marker.on('click', function() {
                                            map.setView(details.center, details.zoomLevel);
                                            addSubMarkers(details.locations);
                                            showBackButton();
                                            removeParentMarkers();
                                        });
                                    }
                                    parentMarkers.addLayer(marker);
                                };
                                latLngs.push(details.markerLocation)
                            });

                            if (latLngs.length > 1) {
                                var polyline = L.polyline(latLngs, {color: '#F8B6B6', opacity: 0.4, weight: 2, dashArray: '2, 4'}).addTo(map);
                                parentMarkers.addLayer(polyline);
                            }

                            parentMarkers.addTo(map);
                        }

                        // Defining function to call our submarkers
                        function removeSubMarkers() {subMarkers.clearLayers();}
                        function addSubMarkers(locations) {
                            var latLngs = [];

                            locations.forEach(function(location, index) {
                                if (location.mark) {
                                    var subMarker = L.marker(location.latLng, {icon: np_donutMarker});

                                    var popupContent = `
                                        <div class="popup-content">
                                            <h4 class="popup-title">${location.name}</h4>
                                            <hr id="popup-hr">
                                            <p class="popup-blurb">${location.blurb}</p>
                                            ${location.photo ? `<div class="popup-image-container"><img src="${location.photo}" class="popup-image" alt="Location Image"></div>` : ''}
                                        </div>
                                    `;
                                    subMarker.bindPopup(popupContent);

                                    subMarker._popupOpenedByClick = false;
                                    subMarker.getPopup().on('close', function() {
                                        subMarker._popupOpenedByClick = false;
                                    });
                                    subMarker.on('click', function() {
                                        this._popupOpenedByClick = !this._popupOpenedByClick;
                                        if (this._popupOpenedByClick) {
                                            this.openPopup();
                                        } else {this.closePopup();}
                                    }).on('mouseover', function() {
                                        if (!this._popupOpenedByClick) {
                                            this.openPopup();
                                        }
                                    }).on('mouseout', function() {
                                        if (!this._popupOpenedByClick) {
                                            this.closePopup();
                                        }
                                    });
                                    subMarkers.addLayer(subMarker);
                                }

                                // Create individual polyline for each segment
                                if (index < locations.length - 1) { // Ensure there is a next location
                                    var nextLocation = locations[index + 1];
                                    var segmentLatLngs = [location.latLng, nextLocation.latLng];
                                    var polylineOptions = {
                                        color: '#F8B6B6', 
                                        opacity: 0.4, 
                                        weight: 2
                                    };
                                    if (location.dashed) {
                                        polylineOptions.dashArray = '2, 4';
                                    }
                                    var segmentPolyline = L.polyline(segmentLatLngs, polylineOptions).addTo(map);
                                    subMarkers.addLayer(segmentPolyline);
                                }
                            });
                            subMarkers.addTo(map);
                        }

                        // Function to handle drawing the line from Singapore to San Francisco
                        function calculateEdgePoints() {
                            const bounds = map.getBounds();
                            const normalizedSFLongitude = (sfLocation[1] + 360) % 360;
                            const normalizedSingaporeLongitude = (singaporeLocation[1] + 360) % 360;
                                
                            const slope = (sfLocation[0] - singaporeLocation[0]) / (normalizedSFLongitude - normalizedSingaporeLongitude);
                            const yIntercept = singaporeLocation[0] - slope * normalizedSingaporeLongitude;
                            
                            const leftMostLongitude = bounds.getWest();
                            const rightMostLongitude = bounds.getEast();
                            const latitudeAtLeftMost = slope * ((leftMostLongitude + 360) % 360) + yIntercept;
                            const latitudeAtRightMost = slope * ((rightMostLongitude + 360) % 360) + yIntercept;
                            
                            const adjustedLeftMostLongitude = leftMostLongitude > 180 ? leftMostLongitude - 360 : leftMostLongitude;
                            const adjustedRightMostLongitude = rightMostLongitude < 0 ? rightMostLongitude + 360 : rightMostLongitude;
                            
                            return {
                                leftMostPoint: [latitudeAtLeftMost, adjustedLeftMostLongitude],
                                rightMostPoint: [latitudeAtRightMost, adjustedRightMostLongitude]
                            };
                        }

                        const edgePoints = calculateEdgePoints();

                        // Initial view
                        addParentMarkers();
                    </script>    
                </div>
            </p>
        </div>

        <div class="footer-container">
            <div class="dino-container">
                <div class="dino-run"></div>   <!-- Create Running Dino -->
                <div class="meteor"></div>   <!-- Create Meteor -->

                <script>
                    $(function() {
                        function animateDinoAndMeteor() {
                            $('.dino-run').css({'left': '-10vw', 'top': '2vh'}).animate({
                                left: $(window).width() * 1.25 + 'px',
                            }, {
                                duration: 7000,
                                easing: 'linear',
                                complete: function() {
                                    $(this).hide();
                                    loadNewContent();
                                }
                            });
                    
                            $('.meteor').css({'left': '-20vw', 'top': '0vh'}).animate({
                                left: $(window).width() * 1.1 + 'px',
                            }, {
                                duration: 7200,
                                easing: 'linear',
                                complete: function() {
                                    $(this).hide();
                                }
                            });
                        }
                        animateDinoAndMeteor();
                    });
                    
                    function loadNewContent() {
                        $('.dino-container').css({
                            'display': 'flex',
                            'align-items': 'flex-start',
                        });
                        $('.dino-container').append(`
                            <div class="social-icons" style="opacity: 0; transition: opacity 0.5s ease-in-out;">
                                <div data-attribute="linkedin">
                                    <a href="https://www.linkedin.com/in/lucasdionisopoulos/" data-attribute="linkedin">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                            <path d="M20.5 2h-17A1.5 1.5 0 002 3.5v17A1.5 1.5 0 003.5 22h17a1.5 1.5 0 001.5-1.5v-17A1.5 1.5 0 0020.5 2zM8 19H5v-9h3zM6.5 8.25A1.75 1.75 0 118.3 6.5a1.78 1.78 0 01-1.8 1.75zM19 19h-3v-4.74c0-1.42-.6-1.93-1.38-1.93A1.74 1.74 0 0013 14.19a.66.66 0 000 .14V19h-3v-9h2.9v1.3a3.11 3.11 0 012.7-1.4c1.55 0 3.36.86 3.36 3.66z"/>
                                        </svg>
                                    </a>
                                </div>
                                <div data-attribute="x-twitter">
                                    <a href="https://twitter.com/_lucasdino" data-attribute="x-twitter">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                            <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                                        </svg>                
                                    </a>
                                </div> 
                                <div data-attribute="github">
                                    <a href="https://github.com/lucasdino" data-attribute="github">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 17">
                                            <path d="M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z"/>
                                        </svg>                
                                    </a>
                                </div> 
                            </div> 
                        `);
                        $('.dino-container').css({
                            'height': 'auto',
                        });
                        setTimeout(() => {
                            $('.social-icons').css('opacity', 1);
                        }, 40);
                    }
                </script>    
            </div>
        </div>
    </body>
</html>